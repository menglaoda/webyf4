<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			ul{
				background: pink;
				overflow: hidden;
			}
			li{
				float: left;
				list-style: none;
				border: solid 1px black;
				margin-left: 2%;
				box-sizing: border-box;
				margin-top: 20px;
				width: 20%;
				text-align: center;
				padding: 20px;
			}
			li img{
				width: 100%;
			}
			li:nth-child(4n+1){
				margin-left: 7%;
			}
			.car{
				position: fixed;
				top: 50px;
				right: 20px;
				width: 30px;
			}
			.active{
				position: fixed;
				top: 0px;
				left: 0px;
				width: 0px;
				transition: all 2s;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var btn = document.querySelectorAll("button");
				var car = document.querySelector(".car");
				for(var i=0;i<btn.length;i++){
					btn[i].onclick = function(){
						var img1 = document.createElement("img");
						img1.className = "active";
						img1.src = this.parentNode.querySelector("img").src;
						img1.style.width = this.parentNode.querySelector("img").offsetWidth+"px";
						img1.style.left = this.parentNode.querySelector("img").offsetLeft+"px";
						var t1 = document.body.scrollTop||document.documentElement.scrollTop;
						var t2 = this.parentNode.querySelector("img").offsetTop;
						img1.style.top = t2-t1+"px";
						document.body.appendChild(img1);
						
						
						//购物车位置
						var cart = car.offsetTop;
						var carl = car.offsetLeft;
						console.log(cart+","+carl);
						
						img1.style.top = cart+car.offsetHeight/2-10+"px";
						img1.style.left = carl+car.offsetWidth/2-10+"px";
						img1.style.width = 20+"px";
						
						setTimeout(function(){
							img1.parentNode.removeChild(img1);
						},2000)
					}
				}
				
			}
		</script>
	</head>
	<body>
		<img class="car" src="img/view.png" />
		<ul>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
			<li>
				<img src="img/x2.png" />
				<button>加入购物车</button>
			</li>
		</ul>
	</body>
</html>
